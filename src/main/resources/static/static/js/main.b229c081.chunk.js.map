{"version":3,"sources":["components/NotFound.js","apiConfig.js","components/LoaderButton.js","components/Login.js","components/Home.js","components/BooksList.js","components/Books.js","components/BookDetails.js","Routes.js","App.js","index.js","logo.svg"],"names":["NotFound","className","backendHost","LoaderButton","isLoading","disabled","props","Button","Glyphicon","glyph","children","process","REACT_APP_BACKEND_HOST","API_ROOT","Login","useState","email","setEmail","password","setPassword","setIsLoading","errorMessage","setErrorMessage","styleDivError","setStyleDivError","history","useHistory","event","a","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","result","console","log","status","push","message","error","alert","onSubmit","FormGroup","controlId","bsSize","ControlLabel","FormControl","autoFocus","type","value","onChange","e","target","block","style","margin","display","Alert","variant","Home","src","logo","alt","to","BooksList","books","map","book","i","ListGroupItem","image","name","width","price","id","Books","setBooks","loadBooks","useEffect","onLoad","PageHeader","ListGroup","renderBooksList","BookDetails","useParams","setBook","loadBook","details","length","renderSimilar","similarBooks","renderBook","Routes","exact","path","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b229c081.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n    return (\n        <div className=\"NotFound\">\n            <h3>Sorry, page not found!</h3>\n        </div>\n    );\n}\n","let backendHost;\n\nbackendHost = process.env.REACT_APP_BACKEND_HOST || 'http://localhost:8080';\n\nexport const API_ROOT = `${backendHost}/api`;","import React from \"react\";\nimport {Button, Glyphicon} from \"react-bootstrap\";\nimport \"./LoaderButton.css\";\n\nexport default function LoaderButton({isLoading, className = \"\", disabled = false, ...props}) {\n    return (\n        <Button className={`LoaderButton ${className}`} disabled={disabled || isLoading} {...props}>\n            {isLoading && <Glyphicon glyph=\"refresh\" className=\"spinning\" />}\n            {props.children}\n        </Button>\n    );\n}\n","import React, {useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {Alert, ControlLabel, FormControl, FormGroup} from \"react-bootstrap\";\nimport \"./Login.css\";\nimport LoaderButton from \"./LoaderButton\";\nimport {API_ROOT} from \"../apiConfig\";\n\nexport default function Login() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const [styleDivError, setStyleDivError] = useState(\"none\");\n\n    const history = useHistory();\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n\n        setIsLoading(true);\n\n        await fetch(`${API_ROOT}/login`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({'email': email, 'password': password})\n        })\n            .then(res => res.json())\n            .then(result => {\n                    console.log(result);\n\n                    if (result.status === \"success\") {\n                        history.push(\"/task/books\");\n                    } else {\n                        setErrorMessage(result.message);\n                        setStyleDivError(\"block\");\n                        setIsLoading(false);\n                    }\n                },\n                error => {\n                    alert(error.message)\n                    setIsLoading(false);\n                });\n    }\n\n    return (\n        <div className=\"Login\">\n            <form onSubmit={handleSubmit}>\n                <FormGroup controlId=\"email\" bsSize=\"large\">\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                        autoFocus\n                        type=\"email\"\n                        value={email}\n                        onChange={e => setEmail(e.target.value)}\n                    />\n                </FormGroup>\n                <FormGroup controlId=\"password\" bsSize=\"large\">\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                        value={password}\n                        onChange={e => setPassword(e.target.value)}\n                        type=\"password\"\n                    />\n                </FormGroup>\n                <LoaderButton block bsSize=\"large\" type=\"submit\" isLoading={isLoading}>\n                    Login\n                </LoaderButton>\n                <div style={{margin: \"10px 0\", display: styleDivError}}>\n                    <Alert variant=\"warning\">\n                        {errorMessage}\n                    </Alert>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import logo from \"../logo.svg\";\nimport {Link} from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Home() {\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                <Link to=\"/task/login\">Login</Link>\n            </header>\n        </div>\n    );\n}\n\nexport default Home;","import React from 'react';\nimport {ListGroupItem} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\nimport \"./BooksList.css\";\n\nfunction BooksList(props) {\n    return props.books.map((book, i) =>\n        (\n            <ListGroupItem>\n                <div className=\"item\">\n                    <img src={book.image} alt={book.name} width=\"200\" className=\"book-img\"/>\n                    <div className=\"media-body\">\n                        <h5 className=\"book-name\">{book.name}</h5>\n                        <div className=\"book-price\">\n                            <h6 className=\"\">{book.price} $</h6>\n                        </div>\n                    </div>\n                    <div className=\"ml-lg-5 order-1 order-lg-2\"><Link to={`/task/details/${book.id}`}>More</Link></div>\n                </div>\n            </ListGroupItem>\n        )\n    );\n}\n\nexport default BooksList;","import React, {useEffect, useState} from \"react\";\nimport {ListGroup, PageHeader} from \"react-bootstrap\";\nimport {API_ROOT} from \"../apiConfig\";\nimport BooksList from \"./BooksList\";\n\nexport default function Books() {\n    const [books, setBooks] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        async function onLoad() {\n            try {\n                const books = await loadBooks();\n                setBooks(books);\n            } catch (e) {\n                alert(e.message);\n            }\n\n            setIsLoading(false);\n        }\n\n        onLoad();\n    }, []);\n\n    async function loadBooks() {\n        let res = [];\n        await fetch(`${API_ROOT}/books`)\n            .then(res => res.json())\n            .then(result => {\n                    res = result;\n                },\n                error => {\n                    alert(error.message)\n                    setIsLoading(false);\n                });\n        return res;\n    }\n\n    function renderBooksList(books) {\n        return <BooksList books={books} />;\n    }\n\n    return (\n        <div className=\"Bookstore\">\n            <PageHeader>Bookstore IT Books</PageHeader>\n            <ListGroup>\n                {!isLoading && renderBooksList(books)}\n            </ListGroup>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {API_ROOT} from \"../apiConfig\";\nimport {ListGroup, PageHeader} from \"react-bootstrap\";\nimport BooksList from \"./BooksList\";\n\nexport default function BookDetails() {\n    const { id } = useParams();\n    const [book, setBook] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        async function loadBook() {\n            let res = [];\n            await fetch(`${API_ROOT}/books/${id}`)\n                .then(res => res.json())\n                .then(result => {\n                        res = result;\n                    },\n                    error => {\n                        alert(error.message)\n                    });\n            return res;\n        }\n\n        async function onLoad() {\n            try {\n                const book = await loadBook();\n                setBook(book);\n            } catch (e) {\n                alert(e.message);\n            }\n            setIsLoading(false);\n        }\n\n        onLoad();\n    }, [id]);\n\n    function renderBook(book) {\n        return (\n            <div className=\"book-details\">\n                <div className=\"item\">\n                    <img src={book.image} alt={book.name} width=\"200\" className=\"book-img\"/>\n                    <div className=\"media-body\">\n                        <h5 className=\"book-name\">{book.name}</h5>\n                        <div className=\"book-price\">\n                            <h6 className=\"\">{book.price} $</h6>\n                        </div>\n                        <p className=\"book-details\">{book.details}</p>\n                    </div>\n                </div>\n                {renderSimilar(book.similarBooks)}\n            </div>\n        );\n    }\n\n    function renderSimilar(books) {\n        if (books === null || books.length === 0) {\n            return \"\";\n        }\n\n        return (\n            <div className=\"similarBooks\">\n                <PageHeader>Customers were also interested in:</PageHeader>\n                <ListGroup>\n                    <BooksList books={books} />\n                </ListGroup>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"main\">\n            {!isLoading && renderBook(book)}\n        </div>\n    );\n}\n","import React from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport NotFound from \"./components/NotFound\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Books from \"./components/Books\";\nimport BookDetails from \"./components/BookDetails\";\n\nexport default function Routes() {\n    return (\n        <Switch>\n            <Route exact path=\"/\">\n                <Home />\n            </Route>\n            <Route exact path=\"/task/login\">\n                <Login />\n            </Route>\n            <Route exact path=\"/task/books\">\n                <Books />\n            </Route>\n            <Route exact path=\"/task/details/:id\">\n                <BookDetails />\n            </Route>\n\n            {/* Finally, catch all unmatched routes */}\n            <Route>\n                <NotFound />\n            </Route>\n        </Switch>\n    );\n}\n","import React from 'react';\nimport Routes from \"./Routes\";\nimport './App.css';\n\nfunction App() {\n  return (\n      <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}